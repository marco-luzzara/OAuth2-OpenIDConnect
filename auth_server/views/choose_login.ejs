<html>

<head>
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.indigo-pink.min.css">
    <script defer src="https://code.getmdl.io/1.3.0/material.min.js"></script>
    <style>
        #login-form {
            align-items: center;
            justify-content: center;
        }
    </style>
    <script>
        async function loginAsCurrentUser() {
            window.location.href = '<%- callback %>'
        }

        // the logout page firstly redirects to login, which accepts a callback, 
        // that will be the current callback
        async function redirectToLogout() {
            const loginCallbackParams = new URLSearchParams({
                callback: '<%- callback %>'
            }).toString()
            const logoutCallbackParams = new URLSearchParams({
                callback: `${window.location.origin}<%- loginRoute %>?${loginCallbackParams}`
            }).toString()
            window.location.href = `${window.location.origin}<%- logoutRoute %>?${logoutCallbackParams}`
        }
    </script>
</head>

<body>
    <div class="mdl-layout mdl-js-layout" id="login-form">
        <main class="mdl-layout__content">
            <div class="demo-card-square mdl-card mdl-shadow--2dp" onclick="loginAsCurrentUser()">
                <div class="mdl-card__title mdl-card--expand">
                    <h2 class="mdl-card__title-text">Login as ...</h2>
                </div>
                <div class="mdl-card__supporting-text">
                    <%= username %>
                </div>
            </div>

            <div class="demo-card-square mdl-card mdl-shadow--2dp" onclick="redirectToLogout()">
                <div class="mdl-card__title mdl-card--expand">
                    <h2 class="mdl-card__title-text">Log in with another account</h2>
                </div>
                <div class="mdl-card__supporting-text">
                    Log in now
                </div>
            </div>
        </main>
    </div>

</body>

</html>